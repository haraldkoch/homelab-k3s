---
persistence:
  enabled: true
  storageClass: zfs-nfs

configData:
  proxy:
    remoteurl: https://registry-1.docker.io

service:
  annotations:
    traefik.ingress.kubernetes.io/buffering: |
      # 2GiB
      maxrequestbodybytes: 2147483648
      # 64MiB
      memrequestbodybytes: 67108864

ingress:
  enabled: true
  className: "traefik"
  annotations:
    cert-manager.io/cluster-issuer: "letsencrypt-production"
    traefik.ingress.kubernetes.io/router.entrypoints: "websecure"
  hosts:
    - "docker.${SECRET_DOMAIN}"
  tls:
    - hosts:
        - "docker.${SECRET_DOMAIN}"
      secretName: tls.registry
